(this.webpackJsonpstackmaze_internship_reactjs=this.webpackJsonpstackmaze_internship_reactjs||[]).push([[0],{129:function(e,t,a){e.exports=a(274)},134:function(e,t,a){},135:function(e,t,a){},184:function(e,t){},186:function(e,t){},196:function(e,t){},198:function(e,t){},225:function(e,t){},227:function(e,t){},228:function(e,t){},234:function(e,t){},236:function(e,t){},254:function(e,t){},256:function(e,t){},268:function(e,t){},271:function(e,t){},274:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(125),s=a.n(l),c=(a(134),a(17)),r=a(10),d=a(20),i=a(19),m=(a(135),a(288)),u=a(289),p=a(27),E=a.n(p),g=a(43),h=a(28),v=a.n(h),y=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:n.props.data.title,date:n.props.data.date,note:n.props.data.note,amount:n.props.data.amount,isLoading:!1},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("titleModel").value=this.props.data.title,document.getElementById("dateModel").value=this.props.data.date,document.getElementById("noteModel").value=this.props.data.note,document.getElementById("amountModel").value=this.props.data.amount}},{key:"validate",value:function(){var e=[v.a.ISO_8601,"DD/MM/YYYY","D/M/YY","D/M/YYYY"];return document.getElementById("titleModel").value.length<4?(document.getElementById("titleModel").className="err",document.getElementById("titlespanModel").className="spanerr"):(document.getElementById("titlespanModel").className="nospanerr",document.getElementById("titleModel").className=""),v()(document.getElementById("dateModel").value,e,!0).isValid()?(document.getElementById("datespanModel").className="nospanerr",document.getElementById("dateModel").className=""):(document.getElementById("dateModel").className="err",document.getElementById("datespanModel").className="spanerr"),document.getElementById("noteModel").value.length<8?(document.getElementById("noteModel").className="err",document.getElementById("notespanModel").className="spanerr"):(document.getElementById("notespanModel").className="nospanerr",document.getElementById("noteModel").className=""),isNaN(document.getElementById("amountModel").value)||""===document.getElementById("amountModel").value?(document.getElementById("amountModel").className="err",document.getElementById("amountspanModel").className="spanerr"):(document.getElementById("amountspanModel").className="nospanerr",document.getElementById("amountModel").className=""),""===document.getElementById("titleModel").className&&""===document.getElementById("amountModel").className&&""===document.getElementById("dateModel").className&&""===document.getElementById("noteModel").className}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"100vh",width:"100vw",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:"0px",left:"0px",display:"flex",justifyContent:"center",alignItems:"center"}},this.state.isLoading?o.a.createElement(g.PuffLoader,{color:"white"}):o.a.createElement("div",{style:{height:"auto",width:"50vw",backgroundColor:"#6200ee",padding:"10vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"20px"}},o.a.createElement("input",{id:"titleModel",placeholder:"Title",onChange:function(t){e.setState({title:t.target.value})}}),o.a.createElement("span",{id:"titlespanModel",className:"nospanerr"},"Atleast 4 characters"),o.a.createElement("input",{id:"amountModel",placeholder:"Amount",onChange:function(t){e.setState({amount:t.target.value})}}),o.a.createElement("span",{id:"amountspanModel",className:"nospanerr"},"Must be a valid amount"),o.a.createElement("input",{id:"noteModel",placeholder:"Note",onChange:function(t){e.setState({note:t.target.value})}}),o.a.createElement("span",{id:"notespanModel",className:"nospanerr"},"Atleast 4 characters"),o.a.createElement("input",{id:"dateModel",placeholder:"Date (DD/MM/YYYY)",onChange:function(t){e.setState({date:t.target.value})}}),o.a.createElement("span",{id:"datespanModel",className:"nospanerr"},"Must be a valid date"),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"}},o.a.createElement("div",{className:"button",onClick:function(){if(e.validate()){e.setState({isLoading:!0});var t={title:e.state.title,date:e.state.date,note:e.state.note,amount:e.state.amount};console.log("validated"),E.a.put("https://stackmaze.herokuapp.com/expenses"+"/".concat(e.props.data.id),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(t){e.props.setData(t.data),e.setState({isLoading:!1}),e.props.close()})).catch((function(){e.props.error()}))}}},"UPDATE"),o.a.createElement("div",{className:"button",onClick:function(){e.props.close()}},"CANCEL"))))}}]),a}(o.a.Component),f=a(286),N=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",date:"",note:"",amount:""},n}return Object(r.a)(a,[{key:"validate",value:function(){var e=[v.a.ISO_8601,"DD/MM/YYYY","D/M/YY","D/M/YYYY"];return document.getElementById("title").value.length<4?(document.getElementById("title").className="err",document.getElementById("titlespan").className="spanerr"):(document.getElementById("titlespan").className="nospanerr",document.getElementById("title").className=""),v()(document.getElementById("date").value,e,!0).isValid()?(document.getElementById("datespan").className="nospanerr",document.getElementById("date").className=""):(document.getElementById("date").className="err",document.getElementById("datespan").className="spanerr"),document.getElementById("note").value.length<8?(document.getElementById("note").className="err",document.getElementById("notespan").className="spanerr"):(document.getElementById("notespan").className="nospanerr",document.getElementById("note").className=""),isNaN(document.getElementById("amount").value)||""===document.getElementById("amount").value?(document.getElementById("amount").className="err",document.getElementById("amountspan").className="spanerr"):(document.getElementById("amountspan").className="nospanerr",document.getElementById("amount").className=""),""===document.getElementById("title").className&&""===document.getElementById("amount").className&&""===document.getElementById("note").className&&""===document.getElementById("date").className}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"leftContainer"},o.a.createElement("input",{id:"title",placeholder:"Title",onChange:function(t){e.setState({title:t.target.value})}}),o.a.createElement("span",{id:"titlespan",className:"nospanerr"},"Atleast 4 characters"),o.a.createElement("input",{id:"amount",placeholder:"Amount",onChange:function(t){e.setState({amount:t.target.value})}}),o.a.createElement("span",{id:"amountspan",className:"nospanerr"},"Must be a valid amount"),o.a.createElement("input",{id:"note",placeholder:"Note",onChange:function(t){e.setState({note:t.target.value})}}),o.a.createElement("span",{id:"notespan",className:"nospanerr"},"Atleast 8 characters"),o.a.createElement("input",{id:"date",placeholder:"Date (DD/MM/YYYY)",onChange:function(t){e.setState({date:t.target.value})}}),o.a.createElement("span",{id:"datespan",className:"nospanerr"},"Must be a valid date"),o.a.createElement("div",{className:"button",onClick:function(){e.validate()&&e.props.add({title:e.state.title,date:e.state.date,amount:e.state.amount,note:e.state.note})}},o.a.createElement("div",{className:"buttonrow"},o.a.createElement(f.a,null),o.a.createElement("div",null,"ADD EXPENSE"))))}}]),a}(o.a.Component),I=a(287),M=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"100vh",width:"100vw",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:"0px",left:"0px",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"50px",backgroundColor:"red",justifyContent:"center",alignItems:"center"}},o.a.createElement(I.a,{color:"red"}),o.a.createElement("div",null,"Something went wrong!"),o.a.createElement("div",null,"Check your internet connection or Try again later"),o.a.createElement("div",{style:{cursor:"pointer",padding:"10px",backgroundColor:"black",color:"white",marginTop:"25px"},onClick:function(){e.props.noError()}},"OK")))}}]),a}(o.a.Component),B=a(181),b=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",date:"",note:"",data:[],amount:"",isLoading:!0,showModel:!1,updateData:{},total:"",isError:""},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),E.a.get("https://stackmaze.herokuapp.com/expenses").then((function(t){e.updateTotal(t.data),e.setState({data:t.data,isLoading:!1})})).catch((function(){e.Error()}))}},{key:"closeModel",value:function(){this.setState({showModel:!1})}},{key:"updateTotal",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=parseInt(e[a].amount);this.setState({total:t})}},{key:"openModel",value:function(e){this.setState({showModel:!0,updateData:e}),console.log(e)}},{key:"setUpdatedData",value:function(e){this.setState({data:e})}},{key:"add",value:function(e){var t=this,a=B.createHmac("sha256","63VVHXirK1k3kJnsbda1PQCs");a.update(JSON.stringify(e));var n=a.digest("hex");this.setState({isLoading:!0});var o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json","react-signature":n};console.log("validated"),E.a.post("https://stackmaze.herokuapp.com/expenses",e,{headers:o}).then((function(e){t.updateTotal(e.data),t.setState({isLoading:!1,data:e.data}),document.getElementById("title").value="",document.getElementById("amount").value="",document.getElementById("note").value="",document.getElementById("date").value=""})).catch((function(){t.Error()}))}},{key:"Error",value:function(){this.setState({isError:!0,showModel:!1,isLoading:!1})}},{key:"noError",value:function(){this.setState({isError:!1})}},{key:"delete",value:function(e){var t=this;""!==e&&(this.setState({isLoading:!0}),E.a.delete("https://stackmaze.herokuapp.com/expenses"+"/".concat(e)).then((function(e){t.updateTotal(e.data),t.setState({isLoading:!1,data:e.data})})).catch((function(){t.Error()})))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"home"},this.state.isLoading?o.a.createElement("div",{style:{height:"100vh",width:"100vw",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:"0px",left:"0px",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(g.PuffLoader,{color:"white"})):null,this.state.isError?o.a.createElement(M,{noError:function(){e.noError()}}):null,this.state.showModel?o.a.createElement(y,{data:this.state.updateData,setData:function(t){return e.setUpdatedData(t)},close:function(){e.closeModel()},error:function(){e.Error()}}):null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{className:"topRow"},o.a.createElement("div",{className:"expText"},"MY EXPENSES"),o.a.createElement("div",{className:"totalRow"},o.a.createElement("label",{className:"totText"},"Total"),o.a.createElement("div",{style:{width:"1px",backgroundColor:"rgba(225, 225, 225, 0.75)",height:"30px",alignSelf:"flex-end",marginLeft:"10px",marginRight:"10px"}}),o.a.createElement("label",{className:"totText"},this.state.total))),o.a.createElement("div",{className:"bottomrow"},o.a.createElement("div",{className:"left"},o.a.createElement(N,{add:function(t){e.add(t)}})),o.a.createElement("div",{className:"right"},o.a.createElement("div",{className:"list"},this.state.data.map((function(t){return o.a.createElement("div",{className:"listEle",id:t.id},o.a.createElement("div",{className:"listEleCorner",onClick:function(){e.openModel(t)}},o.a.createElement(m.a,{style:{color:"rgba(225, 225, 225, 0.7)"}})),o.a.createElement("div",{className:"listEleMain"},o.a.createElement("div",{className:"date"},t.date),o.a.createElement("div",{className:"titleRow"},o.a.createElement("div",{className:"title"},t.title),o.a.createElement("div",{className:"amount"},t.amount)),o.a.createElement("div",{className:"note"},o.a.createElement("label",{style:{whiteSpace:"nowrap"}},o.a.createElement("strong",null,"Note:")," ",t.note))),o.a.createElement("div",{className:"listEleCorner",onClick:function(){e.delete(t.id)}},o.a.createElement(u.a,{style:{color:"rgba(225, 225, 225, 0.7)"}})))})))))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.86428a17.chunk.js.map